<!-- META
{"title":"OPENHANDS: AN OPEN PLATFORM FOR AI SOFTWARE DEVELOPERS AS GENERALIST AGENTS","link":"https://openreview.net/pdf?id=OJd3ayDDoF","media":"academic","tags":["llm","codingai","agent"],"short":{"en":"Earned a platform for developing generalist AI agents that can perform software development by proposing a flexible architecture including an event stream, a sandboxed runtime, and an evaluation framework.","ja":"柔軟なアーキテクチャ（イベントストリーム、サンドボックス化されたランタイム、評価フレームワークなど）を提案することで、ソフトウェア開発を実行できる汎用AIエージェント開発のためのプラットフォームを構築した論文"},"importance":4,"hasPage":true,"createdAt":1755004762.345,"updatedAt":1755004762.345}
META -->

はい、承知いたしました。ご指定の論文を日本語で要約します。

# OPENHANDS: AN OPEN PLATFORM FOR AI SOFTWARE DEVELOPERS AS GENERALIST AGENTS
- Earned a platform for developing generalist AI agents that can perform software development by proposing a flexible architecture including an event stream, a sandboxed runtime, and an evaluation framework.
- 柔軟なアーキテクチャ（イベントストリーム、サンドボックス化されたランタイム、評価フレームワークなど）を提案することで、ソフトウェア開発を実行できる汎用AIエージェント開発のためのプラットフォームを構築した論文

## 著者
- Xingyao Wang
- Boxuan Li
- Yufan Song
- Frank F. Xu
- Xiangru Tang
- Mingchen Zhuge
- Jiayi Pan
- Yueqi Song
- Bowen Li
- Jaskirat Singh
- Hoang H. Tran
- Fuqiang Li
- Ren Ma
- Mingzhang Zheng
- Bill Qian
- Yanjun Shao
- Niklas Muennighoff
- Yizhe Zhang
- Binyuan Hui
- Junyang Lin
- Robert Brennan
- Hao Peng
- Heng Ji
- Graham Neubig

## 概要
本研究は、人間のソフトウェア開発者のように、コードを書き、コマンドラインを操作し、ウェブを閲覧することで、現実世界と複雑に対話できるAIエージェントを開発するためのオープンプラットフォーム「OpenHands」を提案する。研究チームは、エージェント、環境、UI間の対話を柔軟に管理するイベントストリームアーキテクチャ、コード実行のための安全なサンドボックス環境（Docker）、複数のエージェントが協調してタスクを解決するための仕組み、そしてエージェントの性能を体系的に評価するためのフレームワークを設計・実装した。このプラットフォーム上で、汎用エージェントであるCodeActAgentや特化型エージェント（Webブラウジングエージェントなど）を実装し、SWE-BENCH（ソフトウェアエンジニアリング）やWebArena（ウェブブラウジング）など15種類の多様なベンチマークを用いて性能を評価した。その結果、特定のタスクに特化して設計された他のエージェントに匹敵する、あるいはそれを上回る競争力のある性能を、単一の汎用エージェントで達成できることを示した。これにより、OpenHandsが多様なAIエージェントの研究開発と応用を加速させるための強力な基盤となることを実証した。

## 背景
### 研究の意義
[cite_start]近年の大規模言語モデル（LLM）の進化により、AIエージェントはソフトウェア開発、ウェブサイト操作、科学研究といった複雑なタスクに取り組む能力を獲得しつつある。[cite: 9, 17, 18] [cite_start]人間が現実世界と対話する最も強力な手段の一つはソフトウェアであり、AIエージェントにとってもソフトウェアは理想的なインターフェースとなりうる。[cite: 24, 30] [cite_start]しかし、エージェントが効果的にソフトウェアを開発できるようにするためには、以下のような特有の課題が存在する。[cite: 31]
- [cite_start]**複雑なソフトウェアシステムの編集:** エージェントが既存の複雑なコードベースを効果的に作成・修正するにはどうすればよいか？[cite: 32]
- [cite_start]**情報収集とデバッグ:** 問題をデバッグしたり、タスクに必要な情報を収集したりするためのツールをどのように提供するか？[cite: 33]
- [cite_start]**安全性:** ユーザーのシステムに悪影響を与えないよう、安全な開発環境をどのように確保するか？[cite: 34]
[cite_start]本研究は、これらの課題に対処し、コミュニティ主導で汎用的なAIエージェントを開発・評価するためのオープンプラットフォーム「OpenHands」を構築することを目的としている。[cite: 35]

### 関連研究
[cite_start]AIエージェントの開発を促進するためのオープンソースフレームワークは数多く存在する。[cite: 20] [cite_start]これらのフレームワーク（例: Auto-GPT, LangChain, MetaGPT, SWE-Agent）は、エージェントが世界と対話するためのインターフェース、エージェントが動作する環境、人間や他のエージェントとの対話メカニズムなどを提供し、開発プロセスを効率化する。[cite: 21, 22]
しかし、既存のフレームワークにはいくつかの限界があった。例えば、
- [cite_start]多くのフレームワークは、安全に任意のコードを実行できるサンドボックス環境を標準で内蔵していない。[cite: 192]
- [cite_start]完全に機能するウェブブラウザへのアクセスを提供していない場合がある。[cite: 192]
- [cite_start]異なるエージェント実装間で再利用可能な、標準化されたツールライブラリが不足している。[cite: 192]
- [cite_start]複数のエージェント実装をホストし、それらを体系的に評価するための統一されたフレームワークが存在しないことが多い。[cite: 192]
OpenHandsは、これらのギャップを埋めることを目指し、コード実行、ウェブブラウジング、マルチエージェント連携、包括的な評価機能などを統合したプラットフォームとして設計された。

## 手法
### 概要
[cite_start]OpenHandsのアーキテクチャは、主に3つのコンポーネントで構成されている（図2参照）。[cite: 111]
- [cite_start]**エージェント (Agent):** タスクを解決するための思考と行動を担う。過去の行動と観測の履歴（イベントヒストリ）に基づき、次に行うべきアクションを生成する。[cite: 54, 55] [cite_start]OpenHandsは、様々なロジックを持つエージェントを実装・追加できる柔軟な抽象化を提供する。[cite: 111, 141]
- [cite_start]**イベントストリーム (Event Stream):** エージェントが生成したアクション（Action）と、その実行によって環境から得られた観測（Observation）の全ての履歴を時系列で記録・管理する中心的なコンポーネント。[cite: 60, 61, 112]
- [cite_start]**エージェントランタイム (Agent Runtime):** エージェントが生成したアクションを実際に実行し、その結果を観測として返す環境。[cite: 99, 100, 112] [cite_start]安全なDockerサンドボックス内で動作し、Bashシェル、IPythonサーバー、ブラウザなどの実行環境を提供する。[cite: 101, 108, 106, 109]

### 前提条件
- [cite_start]手法はDockerコンテナ内で実行されることを前提としている。[cite: 147]
- [cite_start]エージェントはLLM（大規模言語モデル）を思考の中核として利用する。[cite: 16]

### 詳細
#### 1. エージェントの定義と実装 (Agent Definition and Implementation, §2.1)
- [cite_start]**状態とイベントストリーム:** エージェントの状態は、過去のアクションと観測の時系列リストである「イベントストリーム」を中核として管理される。[cite: 122, 123] [cite_start]これにはエージェント自身の行動だけでなく、ユーザーからの指示やフィードバックも含まれる。[cite: 123]
- [cite_start]**アクション (Actions):** エージェントは、環境と対話するためにいくつかの基本的なアクションを使用する。[cite: 125]
    - [cite_start]`IPythonRunCellAction`: サンドボックス内で任意のPythonコードを実行する。[cite: 126]
    - [cite_start]`CmdRunAction`: サンドボックス内で任意のBashコマンドを実行する。[cite: 126]
    - [cite_start]`BrowserInteractiveAction`: Webブラウザを操作するためのドメイン固有言語（BrowserGymで導入されたもの）を実行する。[cite: 127]
- [cite_start]**観測 (Observations):** アクションの実行結果やユーザーからのメッセージなど、環境の変化を記述する情報。[cite: 140]
- [cite_start]**新規エージェントの実装:** 開発者は`step`関数を実装することで、独自のロジックを持つ新しいエージェントを容易に作成できる。[cite: 141, 142] [cite_start]`step`関数は現在の状態（イベントストリームを含む）を入力として受け取り、次に行うべきアクションを返す（図3参照）。[cite: 137, 142]

#### 2. エージェントランタイム (Agent Runtime, §2.2)
- [cite_start]**Dockerサンドボックス:** タスクごとに安全に隔離されたDockerコンテナを起動し、その中で全てのアクションを実行する。[cite: 147] [cite_start]ユーザーが指定したワークスペースディレクトリがコンテナにマウントされ、エージェントはファイルにアクセスできる。[cite: 149]
- [cite_start]**アクション実行API:** コンテナ内で動作するREST APIサーバーであり、イベントストリームからのアクション実行要求を受け付ける。[cite: 148, 150] このAPIサーバーは以下のものを管理する。
    - [cite_start]**Bashシェル:** コマンド実行用。[cite: 152]
    - [cite_start]**Jupyter IPythonサーバー:** 対話的なPythonコードの実行と結果の返却用。[cite: 153]
    - [cite_start]**PlaywrightベースのChromiumブラウザ:** ブラウザ操作用。ナビゲーション、クリック、タイピングなどのプリミティブアクションを提供する。[cite: 154]
- [cite_start]**任意のDockerイメージのサポート:** ユーザーが提供した任意のDockerイメージに、OpenHandsのアクション実行APIを自動的にインストールするビルドメカニズムを備えており、様々なソフトウェア環境でエージェントを実行できる。[cite: 159, 160]

#### 3. エージェントスキル (Agent Skills, §2.3)
- [cite_start]**目的:** 基本的なコマンドやコードだけでは実現が難しいタスク（例: 特定の行範囲でのコード編集）を容易にするための、再利用可能なユーティリティ（ツール）集を提供する。[cite: 163, 165]
- [cite_start]**実装:** `AgentSkills`はPythonパッケージとして設計されており、その中の関数（ツール）は自動的にIPython環境にインポートされる。[cite: 166] [cite_start]これにより、コミュニティメンバーは新たなツールを簡単に追加でき、異なるエージェント実装からも`IPythonRunCellAction`を通じて容易に利用できる。[cite: 167, 168]
- **現在サポートされているスキル:**
    - [cite_start]ファイル編集ユーティリティ（例: `edit_file`）[cite: 171]
    - [cite_start]ファイルのスクロール機能（`scroll_up`, `scroll_down`）[cite: 172]
    - [cite_start]マルチモーダルドキュメントの解析（例: `parse_image`, `parse_pdf`）[cite: 173]

#### 4. エージェントの委任 (Agent Delegation, §2.4)
- [cite_start]複数のエージェント間の協調を可能にするため、`AgentDelegateAction`という特別なアクションタイプを導入。[cite: 176]
- [cite_start]これにより、あるエージェント（例: 汎用的なCodeActAgent）が、特定のサブタスクを別の特化型エージェント（例: ブラウジング専門のBrowse Agent）に委任することができる。[cite: 177]

### 評価方法
- [cite_start]**評価フレームワークの構築:** 汎用的なデジタルエージェントの進捗を体系的に追跡するため、15の確立されたベンチマークをOpenHandsに統合した。[cite: 204, 205] [cite_start]これらはソフトウェアエンジニアリング、ウェブブラウジング、その他支援タスクの3つのカテゴリに大別される（表2参照）。[cite: 209, 210]
- **評価対象エージェント:** OpenHands上で実装された複数のエージェントを評価した。
    - [cite_start]**CodeActAgent:** CodeActフレームワークに基づくデフォルトの汎用エージェント。[cite: 180]
    - [cite_start]**Browse Agent:** WebArenaをベースにしたウェブエージェントのベースライン。[cite: 194]
    - [cite_start]**GPTSwarm Agent:** エージェントシステムを最適化可能なグラフとして構築するエージェント。[cite: 197]
- [cite_start]**評価:** 各ベンチマークで定義されている成功率（Success Rate）や解決率（Resolve Rate）を用いて性能を測定した。[cite: 231, 237, 273] [cite_start]ベンチマークに特化した手動のプロンプトエンジニアリングは行わず、オープンソースで再現可能なベースラインと比較した。[cite: 206]

## 結果と結論
### 概要
[cite_start]評価の結果、OpenHands上で実装されたエージェント、特に汎用エージェントであるCodeActAgentは、プロンプトなどを変更することなく、ソフトウェア開発、ウェブブラウジング、その他の支援タスクという3つの主要カテゴリすべてにおいて、各分野の特化型エージェントに匹敵する高い性能を発揮した。[cite: 219, 220] これは、OpenHandsのアーキテクチャが、様々なタスクに対応できる汎用的なデジタルエージェントの開発基盤として有効であることを示している。

### 詳細
- **ソフトウェアエンジニアリング (表4):**
    - [cite_start]**SWE-Bench Lite:** CodeActAgent v1.8 (claude-3.5-sonnetモデル) は、GitHubの問題解決タスクにおいて、他のオープンソースの特化型エージェント（SWE-Agentなど）と遜色ない**26.0%**の解決率を達成した。[cite: 231, 243]
    - [cite_start]**HumanEvalFix:** バグ修正タスクにおいて、CodeActAgent (gpt-4oモデル) は**79.3%**のバグを修正し、多くの非エージェント型アプローチの性能を大幅に上回った。[cite: 237, 243]
    - [cite_start]**ML-Bench:** 機械学習タスクにおいて、CodeActAgent (gpt-4oモデル) は**76.5%**という高い成功率を示し、SWE-Agent (42.6%) やAider (64.4%) を上回った。[cite: 243]
    - [cite_start]**BIRD (Text-to-SQL):** CodeActAgent (gpt-4oモデル) は**47.3%**の実行精度を達成した。[cite: 243]
- **ウェブブラウジング (表5):**
    - [cite_start]**WebArena:** 現実的なウェブ操作タスクにおいて、Browse Agent (claude-3-5-sonnetモデル) は**15.5%**の成功率を達成した。[cite: 262] [cite_start]また、CodeActAgentがBrowse Agentにタスクを委任する形でも、同等の性能（15.3%）が得られた。[cite: 262]
    - [cite_start]**MiniWoB++:** より簡単なウェブ操作タスクにおいて、Browse Agent (gpt-4oモデル) は**40.8%**の成功率を示した。[cite: 262]
- **その他支援タスク (表6):**
    - [cite_start]**GAIA:** 汎用的なアシスタントタスクにおいて、GPTSwarm (gpt-4oモデル) が**32.1%**の成功率を示した。[cite: 288]
    - [cite_start]**GPQA:** 大学院レベルの難解な質疑応答タスクにおいて、CodeActAgent (claude-3-5-sonnetモデル) は**52.0%**の正答率を記録し、Few-shot CoT (gpt-4) の38.8%を大きく上回った。[cite: 217, 288]
    - [cite_start]**AgentBench (OS):** OS操作タスクにおいて、CodeActAgent (gpt-4oモデル) は**57.6%**の成功率を示した。[cite: 288]

## 先行研究との差分
### 手法面
[cite_start]OpenHandsは、既存のエージェントフレームワーク（Auto-GPT, LangChain, SWE-Agentなど）と比較して、以下の点で包括的な機能を提供する（表1参照）。[cite: 185, 192]
- [cite_start]**統合された実行環境:** 安全なコード実行のためのサンドボックス、対話的なIPythonサーバー、ウェブブラウジング機能が標準で組み込まれている。[cite: 192]
- [cite_start]**拡張性と再利用性:** `AgentSkills`ライブラリにより、異なるエージェント間で再利用可能なツールを容易に作成・共有できる。[cite: 192]
- [cite_start]**AgentHub:** 様々なコミュニティ製エージェントの実装をホストし、ユーザーが選択したり、新たな研究のベースラインとして利用したりできる。[cite: 190, 192]
- [cite_start]**包括的な評価フレームワーク:** 15種類もの多様なベンチマークを統合し、エージェントの性能を体系的かつ再現性高く評価できる。[cite: 190, 192]
- [cite_start]**人間との協調:** タスク実行中に人間が介入し、リアルタイムでフィードバックや追加指示を与えることができるリッチなGUIを提供する。[cite: 189, 192, 552]

### 結果面
- [cite_start]本論文は、特定の一つの先行研究との直接的な結果比較というよりは、複数の主要なベンチマークにおいて、様々なオープンソースのベースラインや特化型エージェントと性能を比較している。[cite: 215, 223, 270, 280]
- [cite_start]特筆すべきは、SWE-Agentのようなソフトウェアエンジニアリングに特化したエージェントや、WebArena Agentのようなウェブブラウジングに特化したエージェントに対し、OpenHandsの**汎用エージェント（CodeActAgent）が、プロンプトの変更なしに、複数の異なるカテゴリのタスクで競争力のある性能を示した**点である。[cite: 219, 220]

## 議論
論文内では、本研究の限界と将来の展望、そして倫理的な考察について議論されている。
- [cite_start]**限界と将来の展望 (§A):**[cite: 502]
    - [cite_start]**マルチモーダルサポートの強化:** 現在は特定のスキルを通じて限定的にサポートされているが、今後は画像や動画などをより原理的な方法で扱えるようにする。[cite: 505]
    - [cite_start]**エージェントの性能向上:** 現在のエージェントはまだ複雑なタスクに苦戦するため、学習時・推論時の技術を用いてより強力なエージェントを構築する。[cite: 506]
    - [cite_start]**ファイル編集能力の改善:** 長いファイルの編集時に性能が低下する問題を改善するためのアプローチを模索する。[cite: 510]
    - [cite_start]**ワークフローの自動生成:** 現在は手作業が多いワークフローの構築を、GPTSwarmのようなグラフベースのフレームワークを用いて自動化することを目指す。[cite: 515, 519]
- [cite_start]**倫理的考察 (§B):**[cite: 520]
    - [cite_start]AIエージェントの能力向上は、生産性を向上させる一方でセキュリティリスクももたらす。[cite: 522]
    - [cite_start]OpenHandsは以下の点でリスク軽減に貢献する。[cite: 523]
        1.  [cite_start]**体系的な評価:** エージェントが広く展開される前にリスクを特定・対処できる。[cite: 524]
        2.  [cite_start]**人間との協調:** 監視なしで自律的に動作するのではなく、人間との対話を促進する。[cite: 525]
        3.  [cite_start]**安全性研究の促進:** 世界中の研究者が最良のエージェント群にアクセスし、安全で有用なエージェントを構築するためのフロンティア研究を行えるようにする。[cite: 526]